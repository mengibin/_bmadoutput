<!doctype html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>CrewAgent - UX Design Directions</title>
    <style>
      :root {
        --bg: #0b1220;
        --surface: #111a2e;
        --surface2: #0f172a;
        --text: #e5e7eb;
        --muted: #9ca3af;
        --border: rgba(148, 163, 184, 0.2);
        --primary: #6366f1;
        --success: #10b981;
        --warning: #f59e0b;
        --danger: #ef4444;
      }
      * { box-sizing: border-box; }
      html, body { height: 100%; }
      body {
        margin: 0;
        font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "PingFang SC", "Microsoft YaHei", "Noto Sans CJK SC", Arial, "Apple Color Emoji", "Segoe UI Emoji";
        background: var(--bg);
        color: var(--text);
      }

      .layout {
        display: grid;
        grid-template-columns: 320px 1fr;
        min-height: 100vh;
      }

      .nav {
        padding: 16px;
        border-right: 1px solid var(--border);
        background: linear-gradient(180deg, var(--surface) 0%, var(--surface2) 100%);
      }

      .nav h1 { margin: 0; font-size: 14px; }
      .nav p { margin: 6px 0 0; font-size: 12px; color: var(--muted); line-height: 1.5; }
      .nav .hint { margin-top: 10px; font-size: 12px; color: var(--muted); }

      .dir-list { margin-top: 14px; display: grid; gap: 8px; }
      .dir-btn {
        text-align: left;
        padding: 10px 10px;
        border-radius: 12px;
        border: 1px solid var(--border);
        background: rgba(255,255,255,0.02);
        color: var(--text);
        cursor: pointer;
      }
      .dir-btn:hover { border-color: rgba(99,102,241,0.55); }
      .dir-btn.active { border-color: rgba(99,102,241,0.9); box-shadow: 0 0 0 3px rgba(99,102,241,0.25); }
      .dir-btn .title { font-size: 12px; font-weight: 650; }
      .dir-btn .desc { font-size: 11px; color: var(--muted); margin-top: 2px; }

      .stage { padding: 18px; }
      .mock {
        border: 1px solid var(--border);
        border-radius: 18px;
        background: var(--surface);
        min-height: calc(100vh - 36px);
        overflow: hidden;
        display: grid;
        grid-template-rows: auto 1fr;
      }

      .topbar {
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: 12px 14px;
        border-bottom: 1px solid var(--border);
        background: rgba(255,255,255,0.02);
      }
      .topbar .left { display: flex; gap: 10px; align-items: center; }
      .chip {
        display: inline-flex;
        gap: 8px;
        align-items: center;
        padding: 6px 10px;
        border-radius: 999px;
        border: 1px solid var(--border);
        color: var(--muted);
        font-size: 12px;
        background: rgba(255,255,255,0.02);
      }
      .btn {
        padding: 8px 10px;
        border-radius: 12px;
        border: 1px solid var(--border);
        background: rgba(255,255,255,0.02);
        color: var(--text);
        font-size: 12px;
      }
      .btn.primary {
        border-color: rgba(99,102,241,0.7);
        background: linear-gradient(180deg, rgba(99,102,241,0.95), rgba(99,102,241,0.65));
      }

      .body {
        display: grid;
        grid-template-columns: 240px 1fr 360px;
        min-height: 0;
      }
      .panel {
        border-right: 1px solid var(--border);
        padding: 12px;
        min-height: 0;
      }
      .panel.right { border-right: none; border-left: 1px solid var(--border); }

      .panel h2 { margin: 0 0 8px; font-size: 12px; color: var(--muted); text-transform: uppercase; letter-spacing: .02em; }
      .item {
        padding: 10px;
        border-radius: 12px;
        border: 1px solid var(--border);
        background: rgba(255,255,255,0.02);
        margin-bottom: 8px;
      }
      .item strong { display: block; font-size: 12px; }
      .item span { display: block; font-size: 11px; color: var(--muted); margin-top: 2px; }

      .canvas {
        padding: 16px;
        min-height: 0;
        background:
          radial-gradient(circle at 1px 1px, rgba(148, 163, 184, 0.14) 1px, transparent 0) 0 0 / 18px 18px;
      }

      .hero {
        border: 1px dashed rgba(148, 163, 184, 0.35);
        border-radius: 16px;
        padding: 14px;
        color: var(--muted);
        font-size: 12px;
        background: rgba(255,255,255,0.02);
      }

      .cards {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 12px;
        margin-top: 12px;
      }
      .card {
        border: 1px solid var(--border);
        border-radius: 16px;
        background: rgba(255,255,255,0.02);
        padding: 12px;
        min-height: 120px;
      }
      .card .k { font-size: 11px; color: var(--muted); }
      .card .v { font-size: 14px; font-weight: 650; margin-top: 8px; }
      .card .tag {
        display: inline-flex;
        gap: 6px;
        align-items: center;
        margin-top: 8px;
        padding: 5px 8px;
        border-radius: 999px;
        border: 1px solid var(--border);
        font-size: 11px;
        color: var(--muted);
      }

      .mono {
        --primary: #e5e7eb;
        --surface: #0b1220;
        --surface2: #0b1220;
        --border: rgba(148, 163, 184, 0.25);
      }

      .dense .body { grid-template-columns: 260px 1fr 420px; }
      .dense .item { padding: 8px; }
      .dense .canvas { padding: 12px; }
      .dense .cards { grid-template-columns: repeat(4, 1fr); }

      .doccentric .body { grid-template-columns: 320px 1fr; }
      .doccentric .panel.right { display: none; }
      .doccentric .canvas { background: rgba(255,255,255,0.02); }

      @media (max-width: 1100px) {
        .layout { grid-template-columns: 1fr; }
        .nav { border-right: none; border-bottom: 1px solid var(--border); }
      }
    </style>
  </head>
  <body>
    <div class="layout">
      <aside class="nav">
        <h1>CrewAgent 设计方向草图</h1>
        <p>
          用于快速对齐：信息密度、导航结构、Canvas/Inspector 比重、执行可视化方式。
          每个方向都是“可落地的骨架”，后续可混合取长补短。
        </p>
        <div class="hint">操作：点击左侧方向切换。</div>

        <div class="dir-list" id="dirList"></div>
      </aside>

      <main class="stage">
        <div class="mock" id="mockRoot">
          <div class="topbar">
            <div class="left">
              <span class="chip" id="dirChip">Direction</span>
              <span class="chip">⌘K Command Palette</span>
            </div>
            <div class="right">
              <button class="btn">预览</button>
              <button class="btn primary">执行/导出</button>
            </div>
          </div>

          <div class="body">
            <div class="panel left">
              <h2>Navigation</h2>
              <div class="item"><strong>Templates</strong><span>模板库 / 启动</span></div>
              <div class="item"><strong>Projects</strong><span>定义 / 执行项目</span></div>
              <div class="item"><strong>Drivers</strong><span>MCP / 权限边界</span></div>
              <div class="item"><strong>Logs</strong><span>审计 / 导出</span></div>
              <div class="item"><strong>Settings</strong><span>LLM / 离线</span></div>
            </div>

            <div class="canvas" id="canvasArea">
              <div class="hero" id="heroText">
                这里展示该方向的主内容区域骨架（Canvas / Dashboard / Document / Execution）。
              </div>
              <div class="cards" id="cards"></div>
            </div>

            <div class="panel right" id="rightPanel">
              <h2>Inspector</h2>
              <div class="item"><strong>Step 配置</strong><span>输入/输出/约束/验证</span></div>
              <div class="item"><strong>Agent Persona</strong><span>Prompt 模板 / 风格</span></div>
              <div class="item"><strong>Approval</strong><span>允许一次 / 本次 / 拒绝</span></div>
              <div class="item"><strong>Artifacts</strong><span>产物列表 / diff</span></div>
            </div>
          </div>
        </div>
      </main>
    </div>

    <script>
      const directions = [
        {
          id: "workbench",
          title: "Workbench / IDE 风格",
          desc: "高密度信息 + Inspector，适合编辑与执行",
          className: "dense",
          hero: "主视图：Canvas（编辑）或 Step/Log（执行）居中，左右面板承载导航与属性。强调效率与可控。",
          cards: [
            { k: "当前 Step", v: "Run Calc", tag: "Needs Approval" },
            { k: "工具输出", v: "stdout/stderr", tag: "Grouped by Step" },
            { k: "产物", v: "Design_Spec.docx", tag: "Tracked" },
            { k: "状态", v: "Resume-ready", tag: "Frontmatter" },
          ],
        },
        {
          id: "templatefirst",
          title: "Template-first / 卡片引导",
          desc: "上手快，适合首页与新建流程",
          className: "",
          hero: "主视图：模板/项目以卡片呈现，提供向导式创建。编辑器入口清晰，降低空白画布焦虑。",
          cards: [
            { k: "模板", v: "Mechanical Calc", tag: "Recommended" },
            { k: "模板", v: "BMAD SDLC", tag: "MVP Pilot" },
            { k: "项目", v: "Gearbox-App-v1", tag: "Draft" },
          ],
        },
        {
          id: "enterprise",
          title: "Enterprise / 审计优先",
          desc: "清晰、保守、权限显性化",
          className: "mono",
          hero: "主视图：把权限边界、审计、策略配置放在显眼位置。强调可追溯与合规。",
          cards: [
            { k: "Policy", v: "Sandbox ON", tag: "Default Deny" },
            { k: "Audit", v: "Export Logs", tag: "Required" },
            { k: "LLM", v: "Local Only", tag: "Offline" },
          ],
        },
        {
          id: "canvasfirst",
          title: "Canvas-first / 画布最大化",
          desc: "适合复杂编排，但需强模板/Guardrails",
          className: "",
          hero: "主视图：画布最大化，Inspector 可收起为浮层。更适合‘看流程’，不适合新手从零搭建。",
          cards: [
            { k: "Zoom", v: "Fit / 100%", tag: "Fast" },
            { k: "Validate", v: "Errors on Nodes", tag: "Inline" },
            { k: "Outline", v: "Steps Tree", tag: "Left" },
          ],
        },
        {
          id: "commandcentric",
          title: "Command-centric / 命令驱动",
          desc: "键盘效率高，适合专家",
          className: "dense",
          hero: "主视图：减少按钮，更多依赖 Command Palette（⌘K）。适合熟练用户快速操作。",
          cards: [
            { k: "⌘K", v: "Run Step", tag: "Fast" },
            { k: "⌘K", v: "Open Project", tag: "Recent" },
            { k: "⌘K", v: "View Log", tag: "Filter" },
            { k: "⌘K", v: "Toggle Driver", tag: "Safe" },
          ],
        },
        {
          id: "doccentric",
          title: "Document-centric / 文档为中心",
          desc: "状态与产物一目了然",
          className: "doccentric",
          hero: "主视图：以文档/产物为中心（类似 Notion），流程与状态作为侧边信息。适合强调交付与一致性。",
          cards: [
            { k: "Artifacts", v: "Spec.docx", tag: "Linked" },
            { k: "Artifacts", v: "result.json", tag: "Source" },
            { k: "State", v: "stepsCompleted", tag: "Visible" },
          ],
        },
      ];

      const dirList = document.getElementById("dirList");
      const mockRoot = document.getElementById("mockRoot");
      const dirChip = document.getElementById("dirChip");
      const heroText = document.getElementById("heroText");
      const cards = document.getElementById("cards");
      const rightPanel = document.getElementById("rightPanel");

      function renderCards(items) {
        cards.innerHTML = "";
        items.forEach((c) => {
          const el = document.createElement("div");
          el.className = "card";
          el.innerHTML = `
            <div class="k">${c.k}</div>
            <div class="v">${c.v}</div>
            <div class="tag">${c.tag}</div>
          `;
          cards.appendChild(el);
        });
      }

      function setDirection(id) {
        const d = directions.find((x) => x.id === id) || directions[0];
        dirChip.textContent = d.title;
        heroText.textContent = d.hero;
        renderCards(d.cards);

        mockRoot.className = "mock";
        if (d.className) mockRoot.classList.add(...d.className.split(" ").filter(Boolean));

        // Hide inspector in doc-centric for clarity
        rightPanel.style.display = d.id === "doccentric" ? "none" : "block";

        [...dirList.querySelectorAll("button")].forEach((b) => {
          b.classList.toggle("active", b.dataset.id === d.id);
        });
      }

      directions.forEach((d) => {
        const btn = document.createElement("button");
        btn.type = "button";
        btn.className = "dir-btn";
        btn.dataset.id = d.id;
        btn.innerHTML = `<div class="title">${d.title}</div><div class="desc">${d.desc}</div>`;
        btn.addEventListener("click", () => setDirection(d.id));
        dirList.appendChild(btn);
      });

      setDirection("workbench");
    </script>
  </body>
</html>

